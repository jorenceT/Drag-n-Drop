<!DOCTYPE html>
  <html>
    <head>
      <meta charset="UTF-8">
      <title>Hello World!</title>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
      <link rel="stylesheet" type="text/css" href="css/main.css">
    </head>
    <body><div>
    <div class="maindiv" id="dropZone">Drop files here</div>
    <div><input style="margin-top:3%"/></div>
    <input placeholder="Path" id="first_name" type="text" class="validate"/>
    <input type="button" class="btn btn-success" value="save" id="save"/><span class="load"><input class="btn btn-success"  type="button" value="Load" id="load"/></span>
    
    <ul class="collection" id="list"></ul>
   

  
  <script>


var batchfilen=[];
var batchfilep=[];

var elList = document.getElementById('list');
var li;
var savev=document.getElementById('save')
var loadv=document.getElementById('load')
savev.addEventListener('click',saveer);
loadv.addEventListener('click',loader);

    document.addEventListener('drop', function (e) {
      e.preventDefault();
      e.stopPropagation();
      
      for (let f of e.dataTransfer.files) {
        batchfilen.push(f.name)
        batchfilep.push(f.path)
        document.getElementById("first_name").value = f.path;
        console.log(batchfilen)
        // tablefomer(batchfiles);
        display(f.name);
        // console.log('File(s) you dragged here: ', f.path)
        // console.log('File(s) you dragged here: ', f.name)
        // console.log('File(s) you dragged here: ', f.extentions)
        // console.log('File(s) you dragged here: ', f.lastModifiedDate)
        // console.log('File(s) you dragged here: ', f)
        // if(f.type == ''){
        // 	console.log(batchfiles)
        // }

      }
    });
    function display(fname) {
      // elList.appendChild('<li id="innerlist">');
      // elList.innerHTML = fname;
      // elList.appendChild('</li>')
    // var candidate = document.getElementById("fname");
    // var fnameb=fname+"b"
    var li = document.createElement("li");    
    li.className = 'collection-item';
    // var input = document.createElement("input");
    // input.type= "checkbox";
     li.addEventListener('click', ()=> {
       if(li.className == 'collection-item active')
        li.className = 'collection-item';
      else
      li.className += ' active'; 

      });
    // input.classname = 'check';
    // var cb = document.createElement("span");
    // li.setAttribute('id',fnameb);
    li.setAttribute('id',fname);
    li.appendChild(document.createTextNode(fname));
    // li.appendChild(input);
    elList.appendChild(li);
    // elList.appendChild(cb);
     
     }
    
    



     function loader() {
    // console.log(batchfilen);
  // for (var fname in batchfilen) {
  //   elList.innerHTML += fname;
  // }
       }

      function saveer()
      {
       
       
        // var storebp=JSON.stringify(batchfilep);
      console.log("saved");
        localStorage.setItem('storen', JSON.stringify(batchfilen));
         localStorage.setItem('storep',JSON.stringify(batchfilep));
      }


    document.addEventListener('dragover', function (e) {
      e.preventDefault();
      e.stopPropagation();
    });
  </script>
    </body>
  </html>